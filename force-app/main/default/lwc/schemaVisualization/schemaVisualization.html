<template>
    <lightning-combobox
        name="sobjectPicker"
        label="SObject"
        value={selectedSObject}
        placeholder="Select SObject"
        options={options}
        onchange={handleSObjectSelection}
    ></lightning-combobox>

    <template if:true={sobjectDescription}>
        <div
            class="slds-box slds-p-around_none slds-m-top_x-small slds-m-bottom_medium slds-m-horizontal_none"
        >
            <lightning-layout multiple-rows>
                <template if:true={iconName}>
                    <lightning-layout-item
                        flexibility="auto, no-grow"
                        padding="around-small"
                        class="slds-align_absolute-center"
                    >
                        <lightning-icon
                            icon-name={iconName}
                            title={iconName}
                            alternative-text={iconName}
                        ></lightning-icon>
                    </lightning-layout-item>
                </template>

                <template for:each={sobjectDescription} for:item="sobject">
                    <lightning-layout-item
                        key={sobject.id}
                        flexibility="auto, no-grow"
                        padding="around-small"
                    >
                        <div
                            class="custom-box slds-box slds-p-around_medium slds-text-align_center"
                        >
                            <p class="field-title" title={sobject.label}>
                                {sobject.label}
                            </p>
                            <p>{sobject.value}</p>
                        </div>
                    </lightning-layout-item>
                </template>
            </lightning-layout>
        </div>
    </template>

    <template if:true={data}>
        <div style="height: 300px">
            <lightning-datatable key-field="id" data={data} columns={columns}>
            </lightning-datatable>
        </div>
    </template>
</template>
